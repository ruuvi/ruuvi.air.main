/**
 * @copyright (c) 2025 Ruuvi Innovations Ltd
 *
 * SPDX-License-Identifier: BSD-3-Clause
 */

#ifndef ZEPHYR_INCLUDE_DRIVERS_LED_LP5810_H_
#define ZEPHYR_INCLUDE_DRIVERS_LED_LP5810_H_

#define LP5810_I2C_ADDR_LSB_REG_MASK (0x03U)

#define LP5810_COLORS_PER_LED 1

#define LP5810_MAX_LEDS 4

#define LP5810_MAX_BRIGHTNESS 100U

#define LP5810_LSD_THRESHOLD_035_VOUT (0x00U)
#define LP5810_LSD_THRESHOLD_045_VOUT (0x01U)
#define LP5810_LSD_THRESHOLD_055_VOUT (0x02U)
#define LP5810_LSD_THRESHOLD_065_VOUT (0x03U)

#define LP5810_REG_CMD_UPDATE       (0x10U)
#define LP5810_REG_CMD_UPDATE_VAL   (0x55U)
#define LP5810_REG_CMD_START        (0x11U)
#define LP5810_REG_CMD_START_VAL    (0xFFU)
#define LP5810_REG_CMD_STOP         (0x12U)
#define LP5810_REG_CMD_STOP_VAL     (0xAAU)
#define LP5810_REG_CMD_PAUSE        (0x13U)
#define LP5810_REG_CMD_PAUSE_VAL    (0x33U)
#define LP5810_REG_CMD_CONTINUE     (0x13U)
#define LP5810_REG_CMD_CONTINUE_VAL (0xCCU)

#define LP5810_REG_RESET     (0x23U)
#define LP5810_REG_RESET_CMD (0x66U)

#define LP5810_REG_CHIP_EN      (0x00U)
#define LP5810_REG_CHIP_EN_MASK (0x01U)
#define LP5810_REG_CHIP_EN_VAL  (0x01U)

#define LP5810_REG_TSD_CONFIG_STATUS (0x300U)

#define LP5810_REG_DEV_CONFIG_0                      (0x01U)
#define LP5810_REG_DEV_CONFIG_0_VAL_MAX_CURRENT_25MA (0x00U)
#define LP5810_REG_DEV_CONFIG_0_VAL_MAX_CURRENT_51MA (0x01U)

#define LP5810_REG_DEV_CONFIG_3               (0x04U)
#define LP5810_REG_DEV_CONFIG_3_VAL_AUTO_EN_0 (0x01U)
#define LP5810_REG_DEV_CONFIG_3_VAL_AUTO_EN_1 (0x02U)
#define LP5810_REG_DEV_CONFIG_3_VAL_AUTO_EN_2 (0x04U)
#define LP5810_REG_DEV_CONFIG_3_VAL_AUTO_EN_3 (0x08U)

#define LP5810_REG_DEV_CONFIG_5                  (0x05U)
#define LP5810_REG_DEV_CONFIG_5_VAL_EXP_EN_LED_0 (0x01U)
#define LP5810_REG_DEV_CONFIG_5_VAL_EXP_EN_LED_1 (0x02U)
#define LP5810_REG_DEV_CONFIG_5_VAL_EXP_EN_LED_2 (0x04U)
#define LP5810_REG_DEV_CONFIG_5_VAL_EXP_EN_LED_3 (0x08U)

#define LP5810_REG_DEV_CONFIG_12                                 (0x0DU)
#define LP5810_REG_DEV_CONFIG_12_VAL_LOD_ACTION_CUR_OUT_SHUTDOWN (0x08U)
#define LP5810_REG_DEV_CONFIG_12_VAL_LSD_ACTION_ALL_OUT_SHUTDOWN (0x04U)
#define LP5810_REG_DEV_CONFIG_12_VAL_LSD_THRESHOLD_MASK          (0x03U)
#define LP5810_REG_DEV_CONFIG_12_VAL_LSD_THRESHOLD_035_VOUT      (LP5810_LSD_THRESHOLD_035_VOUT)
#define LP5810_REG_DEV_CONFIG_12_VAL_LSD_THRESHOLD_045_VOUT      (LP5810_LSD_THRESHOLD_045_VOUT)
#define LP5810_REG_DEV_CONFIG_12_VAL_LSD_THRESHOLD_055_VOUT      (LP5810_LSD_THRESHOLD_055_VOUT)
#define LP5810_REG_DEV_CONFIG_12_VAL_LSD_THRESHOLD_065_VOUT      (LP5810_LSD_THRESHOLD_065_VOUT)

#define LP5810_REG_LED_EN_1              (0x20U)
#define LP5810_REG_LED_EN_1_VAL_LED_EN_0 (0x01U)
#define LP5810_REG_LED_EN_1_VAL_LED_EN_1 (0x02U)
#define LP5810_REG_LED_EN_1_VAL_LED_EN_2 (0x04U)
#define LP5810_REG_LED_EN_1_VAL_LED_EN_3 (0x08U)

#define LP5810_REG_FAULT_CLEAR     (0x22U)
#define LP5810_REG_FAULT_CLEAR_LOD (0x01U)
#define LP5810_REG_FAULT_CLEAR_LSD (0x02U)
#define LP5810_REG_FAULT_CLEAR_TSD (0x04U)

#define LP5810_BASE_REG_MANUAL_DC  (0x30U)
#define LP5810_BASE_REG_MANUAL_PWM (0x40U)

#define LP5810_BASE_REG_AUTO_DC        (0x50U)
#define LP5810_BASE_REG_AUTO_ANIMATION (0x80U)
#define LP5810_AUTO_ANIMATION_CFG_SIZE (0x1AU)

#define LP5810_REG_TSD_CONFIG_STATUS            (0x300U)
#define LP5810_REG_TSD_CONFIG_STATUS_MASK       (0x03U)
#define LP5810_REG_TSD_CONFIG_STATUS_CONFIG_ERR (0x01U)
#define LP5810_REG_TSD_CONFIG_STATUS_TSD_STATUS (0x02U)

#define LP5810_REG_LOD_STATUS_0    (0x301U)
#define LP5810_REG_LOD_STATUS_MASK (0x0FU)

#define LP5810_REG_LSD_STATUS_0    (0x303U)
#define LP5810_REG_LSD_STATUS_MASK (0x0FU)

#endif /* ZEPHYR_INCLUDE_DRIVERS_LED_LP5810_H_ */
