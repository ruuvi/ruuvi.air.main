# Copyright (c) 2025, Ruuvi Innovations Ltd
# SPDX-License-Identifier: BSD-3-Clause

description: Texas Instruments LP5810 4-Channel RGBW LED Controller

compatible: "ti,lp5810"

include: ["i2c-device.yaml", "led-controller.yaml"]

properties:
  enable-gpios:
    type: phandle-array
    description: |
      GPIO to use to enable/disable the controller.
  max_curr_opt:
    type: boolean
    description: |
      If enabled the maximum current output is set to 51 mA (25.5 mA else).
  lod_action_cur_out_shutdown:
    type: boolean
    description: |
      If enabled, the controller will shut down current sink when LED open fault happens.
  lsd_action_all_out_shutdown:
    type: boolean
    description: |
      If enabled, the controller will shut down all OUTs when LED short fault happens.
  lsd_threshold:
    type: int
    default: 0
    enum:
      - 0  # LP5810_LSD_THRESHOLD_035_VOUT
      - 1  # LP5810_LSD_THRESHOLD_045_VOUT
      - 2  # LP5810_LSD_THRESHOLD_055_VOUT
      - 3  # LP5810_LSD_THRESHOLD_065_VOUT
    description: |
      LSD (LED Short Detection) threshold voltage setting.
      0: 0.35 * VOUT
      1: 0.45 * VOUT
      2: 0.55 * VOUT
      3: 0.65 * VOUT

child-binding:
  properties:
    label:
      required: true
    index:
      required: true
    color-mapping:
      required: true
