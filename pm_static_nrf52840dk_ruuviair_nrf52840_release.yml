b0:
  address: 0x0
  size: 0xD000
  end_address: 0xD000
  placement:
    after:
    - start
  region: flash_primary
provision:
  address: 0xD000
  size: 0x1000
  end_address: 0xE000
  placement:
    after:
    - b0
    align:
      start: 0x1000
  region: flash_primary
b0_container:
  address: 0x0
  size: 0xE000
  end_address: 0xE000
  orig_span: &id002
  - b0
  - provision
  region: flash_primary
  span: *id002

s0_pad:
  address: 0xE000
  size: 0x200
  end_address: 0xE200
  placement:
    after:
    - b0_container
    align:
      start: 0x1000
  region: flash_primary
  share_size:
  - mcuboot_pad
mcuboot:
  address: 0xE200
  size: 0x18E00
  end_address: 0x27000
  placement:
    before:
    - mcuboot_primary
  region: flash_primary
  sharers: 0x1
s0_image:
  address: 0xE200
  size: 0x18E00
  end_address: 0x27000
  orig_span: &id008
  - mcuboot
  region: flash_primary
  span: *id008
s0:
  address: 0xE000
  size: 0x19000
  end_address: 0x27000
  orig_span: &id007
  - s0_pad
  - mcuboot
  region: flash_primary
  span: *id007
mcuboot_primary_1:
  address: 0xE000
  size: 0x19000
  end_address: 0x27000
  region: flash_primary

s1_pad:
  address: 0x27000
  size: 0x200
  end_address: 0x27200
  placement:
    after:
    - s0
    align:
      start: 0x1000
  region: flash_primary
  share_size:
  - mcuboot_pad
s1_image:
  address: 0x27200
  size: 0x18E00
  end_address: 0x40000
  placement:
    after:
    - s1_pad
    - s0
  region: flash_primary
  share_size:
  - mcuboot
s1:
  address: 0x27000
  size: 0x19000
  end_address: 0x40000
  orig_span: &id009
  - s1_pad
  - s1_image
  region: flash_primary
  span: *id009
mcuboot_secondary_1:
  address: 0x27000
  size: 0x19000
  end_address: 0x40000
  region: flash_primary

mcuboot_pad:
  address: 0x40000
  size: 0x200
  end_address: 0x40200
  placement:
    align:
      start: 0x1000
    before:
    - mcuboot_primary_app
  region: flash_primary
  sharers: 0x2
app:
  address: 0x40200
  size: 0x7FE00
  end_address: 0xC0000
  region: flash_primary
app_image:
  address: 0x40200
  size: 0x7FE00
  end_address: 0xC0000
  orig_span: &id001
  - app
  region: flash_primary
  span: *id001
mcuboot_primary:
  address: 0x40000
  size: 0x80000
  end_address: 0xC0000
  orig_span: &id003
  - app
  - mcuboot_pad
  region: flash_primary
  sharers: 0x1
  span: *id003
mcuboot_primary_app:
  address: 0x40200
  size: 0x7FE00
  end_address: 0xC0000
  orig_span: &id004
  - app
  region: flash_primary
  span: *id004

firmware_loader:
  address: 0xC0200
  size: 0x3FE00
  end_address: 0x100000
  region: flash_primary

mcuboot_pad2:
  address: 0xC0000
  size: 0x200
  end_address: 0xC0200
  placement:
    align:
      start: 0x1000
    before:
    - mcuboot_secondary_app
  region: flash_primary
  sharers: 0x2
mcuboot_secondary:
  address: 0xC0000
  size: 0x40000
  end_address: 0x100000
  orig_span: &id005
  - mcuboot_pad2
  - firmware_loader
  placement:
    after:
    - mcuboot_primary
    align:
      start: 0x1000
    align_next: 0x1000
  region: flash_primary
  span: *id005
mcuboot_secondary_app:
  address: 0xC0200
  size: 0x3FE00
  orig_span: &id006
  - firmware_loader
  region: flash_primary
  span: *id006

sram_primary:
  address: 0x20000000
  size: 0x40000
  end_address: 0x20040000
  region: sram_primary

external_flash:
  address: 0x0
  size: 0x800000
  device: MX25R64
  region: external_flash


b0_ext:
  address: 0x0
  size: 0xD000
  end_address: 0xD000
  region: external_flash
provision_ext:
  address: 0xD000
  size: 0x1000
  end_address: 0xE000
  region: external_flash
s0_ext:
  address: 0xE000
  size: 0x19000
  end_address: 0x27000
  region: external_flash
s1_ext:
  address: 0x27000
  size: 0x19000
  end_address: 0x40000
  region: external_flash
mcuboot_primary_ext:
  address: 0x40000
  size: 0x80000
  end_address: 0xC0000
  region: external_flash
mcuboot_secondary_ext:
  address: 0xC0000
  size: 0x40000
  end_address: 0x100000
  region: external_flash

ext_flash_userspace:
  address: 0x00100000
  size:    0x00700000       # 7 MiB area, it is erased when restoring the factory firmware by B0 NSIB bootloader.
  end_address: 0x00800000
  region:  external_flash

littlefs_storage1:
  address:     0x00100000
  size:        0x00100000   # 1 MiB partition shared between MCUboot and the main app (LittleFS)
  end_address: 0x00200000
  region:  external_flash
hist_storage:
  address:     0x00200000
  size:        0x00030000   # 192 KiB partition for the measurements history (ring buffer)
  end_address: 0x00230000
  region:  external_flash
reserved1:
  address:     0x00230000
  size:        0x005C0000
  end_address: 0x007F0000
  region:  external_flash
settings_storage:
  address:     0x007F0000
  size:        0x00010000   # 64 KiB partition for settings storage
  end_address: 0x00800000
  region: external_flash
